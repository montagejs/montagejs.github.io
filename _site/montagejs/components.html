<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>MontageJS Components</title>

    <link rel="stylesheet" href="/montage.org/stylesheets/base.css">

    <!--highlight.js-->
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
</head>


<body>
  <header class="header">
    <div class="header-container">
        <a class="logo" href="http://montage.org/">Home</a>

        <input id="nav-toggle" class="nav-toggle nav-toggle--main" type="checkbox">
        <label class="nav-toggleLabel nav-toggleLabel--main" for="nav-toggle" onclick></label>

        <nav class="nav">
            <a class="nav-item" href="#">Montage</a>
        </nav>
    </div>
</header>



  <section id="docs" class="docs withSidenav">
    <div class="wrapper">
            
<input id="sidenav-toggle" class="sidenav-toggle" type="checkbox">
<label class="sidenav-toggleLabel" for="sidenav-toggle" onclick></label>

        <nav class="sidenav">

    <details open>
        <summary>Quick Start</summary>
        <a href="montagejs-setup.html" >Set Up</a>
        <a href="hello-montage.html" >Hello Montage</a>
    </details>

    <details open>
        <summary>Demos</summary>
        <a href="montagejs-examples.html" >Examples</a>
        <a href="http://montagejs.github.com/mfiddle/" target="_blank">Mfiddle</a>

    </details>

    <details open>
        <summary>Tutorials</summary>
        <a href="tutorial-using-substitutions-with-montagejs.html" >Using Substitutions</a>
        <a href="tutorial-reddit-client-with-montagejs.html" >Building a Reddit Client</a>
        <a href="tutorial-3d-applications-with-montagejs.html" >Building 3D Applications</a>
    </details>

    <details open>
        <summary>Concepts</summary>
        <a href="bootstrapping.html" >Bootstrapping</a>
        <a href="application.html" >Application</a>
        <a href="montagejs-templates.html" >Templates</a>
        <a href="components.html" class="active">Components</a>
        <a href="component-composition.html" >Component Composition</a>
        <a href="serialization-declaration.html" >Serialization Declaration</a>
        <a href="montagejs-objects.html" >Objects</a>
        <a href="data-binding.html" >Data Binding</a>
        <a href="event-handling.html" >Event Handling</a>
        <a href="draw-cycle.html" >Draw Cycle</a>
        <a href="blueprints.html" >Blueprints</a>
        <a href="gestures-composers.html" >Gestures & Composers</a>
        <a href="naming-conventions.html" >Naming Conventions</a>
    </details>

    <details open>
        <summary>Built-in Components</summary>
        <a href="repetition.html" >Repetition</a>
        <a href="substitution.html" >Substitution</a>
        <a href="overlay.html" >Overlay</a>
    </details>

    <details open>
        <summary>UI Component Sets</summary>
        <a href="themes.html" >Introduction</a>
        <a href="theme-digit-components.html" >Digit</a>
        <a href="theme-matte-components.html" >Matte</a>
        <a href="theme-native-components.html" >Native</a>
        <a href="autocomplete.html" >Autocomplete</a>
    </details>

    <details open>
        <summary>Tools</summary>
        <a href="tools-minit.html" >Minit</a>
        <a href="tools-mop.html" >Mop</a>
    </details>

    <details open>
        <summary>Help</summary>
        <a href="faq.html" >FAQ</a>
        <a href="frb.html" >FAQ - FRB Transition</a>
        <a href="troubleshooting.html" >Troubleshooting</a>
    </details>

    <hr />

    <a class="sidenav-mainLink" href="/montage.org/api/Montage.html">API Reference</a>

    <hr />

</nav>


        <div class="main">
            <a href="https://github.com/montagejs/montagejs.github.io/tree/master/montagejs/components.md"
               class="edit">Improve this Doc</a>

            <article class="content">
                <h1 id="montage-components">Montage Components</h1>

<ul id="markdown-toc">
  <li><a href="#anatomy-of-a-component" id="markdown-toc-anatomy-of-a-component">Anatomy of a Component</a>    <ul>
      <li><a href="#html" id="markdown-toc-html">HTML</a></li>
      <li><a href="#css" id="markdown-toc-css">CSS</a></li>
      <li><a href="#javascript" id="markdown-toc-javascript">JavaScript</a></li>
    </ul>
  </li>
</ul>

<p>MontageJS applications consist of a model layer that handles the data and a view layer that reads from the models. Components make up the view portion of a MontageJS application. As a rule, these components are stored in the ui directory of your MontageJS application (which has the benefit that you can use any MontageJS package and easily locate the user interface components it provides).</p>

<p>MontageJS components are encapsulated; the structure (HTML), appearance (CSS), and behavior (JavaScript) that power a user interface component are all located in the same directory, identified with a <code class="highlighter-rouge">.reel</code> suffix. For example, a <code class="highlighter-rouge">FooBar</code> component is located in the <code class="highlighter-rouge">ui</code> directory of your MontageJS application at <code class="highlighter-rouge">montageapp/ui/foo-bar.reel</code>. The <code class="highlighter-rouge">.reel</code> directory contains <code class="highlighter-rouge">foo-bar.css</code>, <code class="highlighter-rouge">foo-bar.html</code>, and <code class="highlighter-rouge">foo-bar.js</code>. Because components are self-contained, it’s easy to work on, rename, or even remove an individual component without having to find bits and pieces of it scattered across directories.</p>

<p>MontageJS components are modular; regardless of where a component is used, the same HTML, CSS, and JavaScript will control how that particular component is structured, looks, and behaves.</p>

<blockquote>
  <p><strong>Note</strong>: Out of the box, MontageJS includes three prebuilt widget sets (or themes) for user interface components: Digit, Matte, and Native. Digit is a touch-friendly widget set optimzed for mobile device development. Matte contains desktop-optimized UI components. The Native package contains native UI components. This package lets you wrap HTML5 elements to give them access to MontageJS features such as data bindings and the MontageJS event handling model. All styling is left to the user-agent/browser or the author to apply.</p>
</blockquote>

<h2 id="anatomy-of-a-component">Anatomy of a Component</h2>

<p>Let’s take a closer look at some key features of the HTML, CSS, and JS files included in the <code class="highlighter-rouge">FooBar</code> component.</p>

<h3 id="html">HTML</h3>

<p>The HTML template is a complete and valid HTML document. The head section includes the component’s CSS file and a script block, which contains all serialized MontageJS objects in the document.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"foo-bar.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
<span class="p">{</span>
    <span class="s2">"owner"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"properties"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"element"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"#"</span><span class="p">:</span> <span class="s2">"foo-bar"</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>For more details on the serialization format refer to <a href="http://montagejs.org/docs/serialization-format.html">MontageJS Serialization Format</a>. For now, note the following:</p>

<ul>
  <li>The script type is set to <code class="highlighter-rouge">text/montage-serialization</code>.</li>
  <li>The serialization format is JSON, with some enforced semantics.</li>
  <li><code class="highlighter-rouge">"owner"</code> is a special label in the serialization that refers to the current component. (Think of it as the equivalent of <code class="highlighter-rouge">this</code> in JavaScript.)</li>
  <li><code class="highlighter-rouge">{"#": "foo-bar"}</code> refers to the root element in the body of the HTML file, identified with the <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#custom-data-attribute">custom data-attribute</a> <code class="highlighter-rouge">data-montage-id</code> of <code class="highlighter-rouge">foo-bar</code>:</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-montage-id=</span><span class="s">"foo-bar"</span> <span class="na">class=</span><span class="s">"FooBar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<blockquote>
  <p><strong>Note:</strong> In the object serialization JSON tree the “#” identifier refers to DOM elements (We also use the “@” identifier, which refers to template objects or other components defined in the object serialization).</p>
</blockquote>

<p>This means that when you use a FooBar component in a MontageJS application the only portion of its template that will be rendered is the <code class="highlighter-rouge">foo-bar</code> element.</p>

<blockquote>
  <p><strong>Note:</strong> MontageJS components are reusable, that is, you can insert them multiple times in the same document, which is why we use a <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#custom-data-attribute">custom data-attribute</a>, <code class="highlighter-rouge">data-montage-id</code>, to identify elements and not the document-unique HTML <code class="highlighter-rouge">id</code> attribute. This also gives you the freedom to use the <code class="highlighter-rouge">id</code> attribute for styling, whether for performance or legacy reasons.</p>
</blockquote>

<h3 id="css">CSS</h3>

<p>By default, we start off with an almost blank style sheet, waiting for you to bring it to life by adding your meticulously crafted rules. The only content we pass along is the class name of the root element.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.FooBar</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Note also that the class name is a CamelCase version of the <code class="highlighter-rouge">.reel</code> directory name. This is part of our internal <a href="https://github.com/montagejs/montage/wiki/Naming-Conventions">CSS naming convention</a>; it allows us to scope each component’s CSS so that it doesn’t “leak out” and accidentally style other components.</p>

<h3 id="javascript">JavaScript</h3>

<p>A component typically inherits from the base class of all Montage components, <a href="https://github.com/montagejs/montage/blob/master/ui/component.js"><code class="highlighter-rouge">Component</code></a>, via the <code class="highlighter-rouge">.specialize()</code> method. Its first argument provides a way to define the properties (methods and values) that will be available on the instances of the new component type being created. The second argument provides a way to define properties of the type itself, they are accessible directly on the type (e.g., <code class="highlighter-rouge">Component.method()</code>).</p>

<blockquote>
  <p><strong>Deprecation warning:</strong> <code class="highlighter-rouge">Montage.create(Component, {})</code> is deprecated as of <a href="https://github.com/montagejs/montage/blob/master/CHANGES.md#v0130"><code class="highlighter-rouge">v0.13.0</code></a>, use <code class="highlighter-rouge">Component.specialize({})</code> instead.</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">exports</span><span class="p">.</span><span class="nx">FooBar</span> <span class="o">=</span> <span class="nx">Component</span><span class="p">.</span><span class="nx">specialize</span><span class="p">(</span><span class="cm">/** @lends FooBar.prototype */</span> <span class="p">{</span>
   <span class="na">constructor</span><span class="p">:</span> <span class="p">{</span>
       <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">FooBar</span><span class="p">()</span> <span class="p">{</span>
           <span class="k">this</span><span class="p">.</span><span class="k">super</span><span class="p">();</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">this.super()</code> is a special function that will call the parent method with the same name. in this case it will call the constructor function that was defined in the Component type. This is useful to extend a behavior and is similar to its Java counterpart.</p>

<p>The file exports a single object with a CamelCase version of the <code class="highlighter-rouge">.reel</code> directory name. When in use, the <code class="highlighter-rouge">FooBar</code> component will be rendered in a document using its element from its included template, styled using its included CSS, and given instructions on how to act from its JavaScript.</p>

<p>Optionally, you can export a controller object to be referred in template’s serialization. We recommend defining a separate controller apart from the component owner object when you need to reuse the controller for something else.</p>

            </article>
        </div>
    </div>
</section>


  <footer class="footer">

    <div class="wrapper">

      <ul class="sitemap">
            <li>
                <a href="http://montage.org/gallery/" class="sitemap-main">Gallery</a>
            </li>
            <!-- <li>
                <a href="http://montage.org/product/" class="sitemap-main">Product</a>
                <a href="/montage.org/montage-studio/ide-at-a-glance.html">Overview</a>
                <a href="/montage.org/montage-studio/tutorial-simple-to-do.html">Quick Start</a>
                <a href="/montage.org/montage-studio/faq.html">FAQ</a>
            </li> -->
            <li>
                <a href="http://montage.org/montagejs" class="sitemap-main">Open Source</a>
                <a href="/montage.org/montagejs/">Docs</a>
                <a href="/montage.org/montagejs/montagejs-setup.html">Quick Start</a>
                <a href="/montage.org/montagejs/montagejs-examples.html">Examples</a>
                <a href="/montage.org/api/AbstractButton.html">API</a>
                <a href="/montage.org/montagejs/faq.html">FAQ</a>
            </li>
            <li>
                <!-- <a href="http://montage.org/community" class="sitemap-main">Community</a> -->
                <!-- <a href="http://forum.montage.org/">Forum</a> -->
                <!-- <a href="http://montage.org/blog/events/">Events</a> -->
                <a href="https://gitter.im/montagejs" target="_blank">Gitter</a>
            </li>
            <!-- <li>
                <a href="http://montage.org/blog/" class="sitemap-main">Blog</a>
            </li> -->
            <li>
                <a href="https://en.wikipedia.org/wiki/MontageJS">History</a>
                <!-- <a href="http://montage.org/press/">Press</a> -->
                <!-- <a href="http://montage.org/contact-us/">Contact us</a> -->
            </li>
      </ul>

        <a href="http://montage.org/" class="footer-logo"></a>

      <p class="footer-end">2010–2018 Motorola, Montage Studio, Pacific Disaster Center, Kaazing</p>
    </div>

    </footer>


  <!-- Google -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-35717912-1', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>
