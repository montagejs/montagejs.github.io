<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>Autocomplete</title>

    <link rel="stylesheet" href="/montage.org/stylesheets/base.css">

    <!--highlight.js-->
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
</head>


<body>
  <header class="header">
    <div class="header-container">
        <a class="logo" href="http://montage.org/">Home</a>

        <input id="nav-toggle" class="nav-toggle nav-toggle--main" type="checkbox">
        <label class="nav-toggleLabel nav-toggleLabel--main" for="nav-toggle" onclick></label>

        <nav class="nav">
            <a class="nav-item" href="#">Montage</a>
        </nav>
    </div>
</header>



  <section id="docs" class="docs withSidenav">
    <div class="wrapper">
            
<input id="sidenav-toggle" class="sidenav-toggle" type="checkbox">
<label class="sidenav-toggleLabel" for="sidenav-toggle" onclick></label>

        <nav class="sidenav">

    <details open>
        <summary>Quick Start</summary>
        <a href="montagejs-setup.html" >Set Up</a>
        <a href="hello-montage.html" >Hello Montage</a>
    </details>

    <details open>
        <summary>Demos</summary>
        <a href="montagejs-examples.html" >Examples</a>
        <a href="http://montagejs.github.com/mfiddle/" target="_blank">Mfiddle</a>

    </details>

    <details open>
        <summary>Tutorials</summary>
        <a href="tutorial-using-substitutions-with-montagejs.html" >Using Substitutions</a>
        <a href="tutorial-reddit-client-with-montagejs.html" >Building a Reddit Client</a>
        <a href="tutorial-3d-applications-with-montagejs.html" >Building 3D Applications</a>
    </details>

    <details open>
        <summary>Concepts</summary>
        <a href="bootstrapping.html" >Bootstrapping</a>
        <a href="application.html" >Application</a>
        <a href="montagejs-templates.html" >Templates</a>
        <a href="components.html" >Components</a>
        <a href="component-composition.html" >Component Composition</a>
        <a href="serialization-declaration.html" >Serialization Declaration</a>
        <a href="montagejs-objects.html" >Objects</a>
        <a href="data-binding.html" >Data Binding</a>
        <a href="event-handling.html" >Event Handling</a>
        <a href="draw-cycle.html" >Draw Cycle</a>
        <a href="blueprints.html" >Blueprints</a>
        <a href="gestures-composers.html" >Gestures & Composers</a>
        <a href="naming-conventions.html" >Naming Conventions</a>
    </details>

    <details open>
        <summary>Built-in Components</summary>
        <a href="repetition.html" >Repetition</a>
        <a href="substitution.html" >Substitution</a>
        <a href="overlay.html" >Overlay</a>
    </details>

    <details open>
        <summary>UI Component Sets</summary>
        <a href="themes.html" >Introduction</a>
        <a href="theme-digit-components.html" >Digit</a>
        <a href="theme-matte-components.html" >Matte</a>
        <a href="theme-native-components.html" >Native</a>
        <a href="autocomplete.html" class="active">Autocomplete</a>
    </details>

    <details open>
        <summary>Tools</summary>
        <a href="tools-minit.html" >Minit</a>
        <a href="tools-mop.html" >Mop</a>
    </details>

    <details open>
        <summary>Help</summary>
        <a href="faq.html" >FAQ</a>
        <a href="frb.html" >FAQ - FRB Transition</a>
        <a href="troubleshooting.html" >Troubleshooting</a>
    </details>

    <hr />

    <a class="sidenav-mainLink" href="/montage.org/api/Montage.html">API Reference</a>

    <hr />

</nav>


        <div class="main">
            <a href="https://github.com/montagejs/montagejs.github.io/tree/master/montagejs/autocomplete.md"
               class="edit">Improve this Doc</a>

            <article class="content">
                <h1 id="autocomplete">Autocomplete</h1>

<p>It is becoming increasingly common for apps to offer predictive suggestions as the user types in a text input field. One example of this is a search field suggesting results that match the text that the user has already typed.</p>

<p>The <code class="highlighter-rouge">Autocomplete</code> component extends the native <code class="highlighter-rouge">input</code> control, and inherits all its capabilities, such as data binding support for all writable attributes of the <code class="highlighter-rouge">input</code> element. It adds the capability to define a list of values that will be contextually displayed as suggestions based on the search term. As the user types the search results are updated to reflect the new term.</p>

<h2 id="using-the-autocomplete-component">Using the <code class="highlighter-rouge">Autocomplete</code> Component</h2>

<p><code class="highlighter-rouge">Autocomplete</code> component can be found in <a href="theme-matte-components.html">matte</a>. You first need to hook up your HTML element to the required component via <code class="highlighter-rouge">JSON</code> serialization.</p>

<h3 id="specifying-the-options">Specifying the options</h3>
<p>The component has a number of options that can be set using the corresponding properties.</p>

<h3 id="setting-the-response-time">Setting the response time</h3>
<p>There is a default 500ms delay before a suggestion is requested. This can be specified by setting the delay property to an integer value. The following will set a delay of 300ms:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"delay"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="w">
</span></code></pre></div></div>

<h3 id="number-of-characters-before-searching">Number of characters before searching</h3>
<p>By default a suggestion is not requested until two characters are entered by the user. This can be set using the minLength property. The following example sets it to 4 characters:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"minLength"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
</span></code></pre></div></div>

<h3 id="search-term-delimiter">Search term delimiter</h3>
<p>Individual search terms are separated by the comma character ,. When the user types a comma, the autocomplete will reset and will start matching the next term. The delimiter can be specified using the <code class="highlighter-rouge">separator</code> property. The following sample sets it to a space instead:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"separator"</span><span class="p">:</span><span class="w"> </span><span class="s2">" "</span><span class="w">
</span></code></pre></div></div>

<h3 id="hooking-up-to-a-data-source">Hooking up to a data source</h3>
<p>To auto-suggest values a data source is needed. To supply a data source you must point to a Delegate object using the delegate property in your JSON serialization:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"delegate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"@"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owner"</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The <code class="highlighter-rouge">Delegate</code> object is a Montage object that implements a method that returns the auto-complete suggestion(s). The method name is <code class="highlighter-rouge">ShouldGetSuggestions</code>, prefixed by the <code class="highlighter-rouge">identifier</code> of the Autocomplete component (which defaults to the label of the JSON object if it is not defined).</p>

<p>This is probably easier understood with an example. Suppose we have an autocomplete component with the label of <code class="highlighter-rouge">foo</code>, as defined below:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"prototype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"montage/ui/autocomplete/autocomplete.reel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"element"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"#"</span><span class="p">:</span><span class="w"> </span><span class="s2">"component"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"delay"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delegate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"@"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owner"</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"bindings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"&lt;-&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@montageComponents"</span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"prototype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"montage-components"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"element"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"#"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autocomplete-example"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The method name used for returning the autocomplete data would be called <code class="highlighter-rouge">fooShouldGetSuggestions</code>. In the above example we would define this method in the montage-components.js file (pointed to by the prototype of the owner object, which is hooked up to foo’s <code class="highlighter-rouge">delegate</code> property).</p>

<p>If the foo object had a <code class="highlighter-rouge">identifier</code> property with a value of bar, the method name would become <code class="highlighter-rouge">barShouldGetSuggestions</code>.</p>

<h3 id="implementing-the-shouldgetsuggestions-method">Implementing the <code class="highlighter-rouge">*ShouldGetSuggestions</code> method</h3>
<p>This method requires two parameters. The <code class="highlighter-rouge">autocomplete</code> parameter is the autocomplete component instance that is requesting the suggestion data. The second parameter, <code class="highlighter-rouge">searchTerm</code> is the term that the user has entered into the autocomplete input.</p>

<p>It is up to you as the developer as to how you get the suggestions. This could be from an XHR or JSONP call, a predefined list in memory, or so on. What matters is that once you get the results that match the search term, you need to set the <code class="highlighter-rouge">suggestions</code> property of the autocomplete instance to point it to the return results. These results will then be displayed as a drop down list for the user to select the desired result.</p>

<p>The following is an example with the logic for getting the results omitted:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fooShouldGetSuggestions</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">value</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">autocomplete</span><span class="p">,</span> <span class="nx">searchTerm</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do some processing such as fetching data via XHR</span>
        <span class="nx">autocomplete</span><span class="p">.</span><span class="nx">suggestions</span> <span class="o">=</span>  <span class="nx">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="a-quick-autocomplete-example">A quick <code class="highlighter-rouge">Autocomplete</code> example</h2>
<p>I’ve created a quick example based off the one in the Kitchen Sink. You can start typing the name of a Montage component, and it will return any component names that match after you have typed two or more characters.</p>

<p>The serialization code is the same as in the above example, except the label is <code class="highlighter-rouge">montageComponents</code> rather than <code class="highlighter-rouge">foo</code>. The HTML that is required is just a simple form with a label and a text input field:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;form&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"component"</span><span class="nt">&gt;</span>Montage component:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"montageComponents"</span> <span class="na">data-montage-id=</span><span class="s">"montageComponents"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">placeholder=</span><span class="s">"Component name"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<p>All the JavasScript that is required can be found in the montage-components.js file, pointed to by the <code class="highlighter-rouge">owner</code> object.</p>

<p>Behind the scenes the components are stored in an array with a key of <code class="highlighter-rouge">name</code>. The <code class="highlighter-rouge">montageComponentsShouldGetSuggestions</code> method checks to see if there are any cached results matching the search term. If so the cached result is returned, otherwise it filters the array to find and return the result, and caches the result so that the search doesn’t have to be performed again for the same search term. Finally, the <code class="highlighter-rouge">suggestions</code> property of the passed autocomplete object is set to the result so that it can be displayed to the user.</p>

<p>You can also check out the KitchenSink for <a href="http://montagejs.github.com/montage/samples/sink/#autocomplete">additional examples</a>, such as fetching data from an external source via XHR.</p>

            </article>
        </div>
    </div>
</section>


  <footer class="footer">

    <div class="wrapper">

      <ul class="sitemap">
            <li>
                <a href="http://montage.org/gallery/" class="sitemap-main">Gallery</a>
            </li>
            <!-- <li>
                <a href="http://montage.org/product/" class="sitemap-main">Product</a>
                <a href="/montage.org/montage-studio/ide-at-a-glance.html">Overview</a>
                <a href="/montage.org/montage-studio/tutorial-simple-to-do.html">Quick Start</a>
                <a href="/montage.org/montage-studio/faq.html">FAQ</a>
            </li> -->
            <li>
                <a href="http://montage.org/montagejs" class="sitemap-main">Open Source</a>
                <a href="/montage.org/montagejs/">Docs</a>
                <a href="/montage.org/montagejs/montagejs-setup.html">Quick Start</a>
                <a href="/montage.org/montagejs/montagejs-examples.html">Examples</a>
                <a href="/montage.org/api/AbstractButton.html">API</a>
                <a href="/montage.org/montagejs/faq.html">FAQ</a>
            </li>
            <li>
                <!-- <a href="http://montage.org/community" class="sitemap-main">Community</a> -->
                <!-- <a href="http://forum.montage.org/">Forum</a> -->
                <!-- <a href="http://montage.org/blog/events/">Events</a> -->
                <a href="https://gitter.im/montagejs" target="_blank">Gitter</a>
            </li>
            <!-- <li>
                <a href="http://montage.org/blog/" class="sitemap-main">Blog</a>
            </li> -->
            <li>
                <a href="https://en.wikipedia.org/wiki/MontageJS">History</a>
                <!-- <a href="http://montage.org/press/">Press</a> -->
                <!-- <a href="http://montage.org/contact-us/">Contact us</a> -->
            </li>
      </ul>

        <a href="http://montage.org/" class="footer-logo"></a>

      <p class="footer-end">2010–2018 Motorola, Montage Studio, Pacific Disaster Center, Kaazing</p>
    </div>

    </footer>


  <!-- Google -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-35717912-1', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>
